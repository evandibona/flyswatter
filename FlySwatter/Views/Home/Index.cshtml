@model FlySwatter.Models.HomeView
@using FlySwatter.Models; 
@{
    ViewBag.Title = "Home";
}

<!-- This page should not even be shown unless the user is authenticated. -->
@if(HttpContext.Current.User.Identity.IsAuthenticated)
{
    var h = new ManageHelpers(); 
    string email = HttpContext.Current.User.Identity.Name;
    string userId = h.EmailToId(email);
    string[] roles = h.UserHasRoles(userId);
    foreach (var r in roles)
    {
        switch (r)
        {
            case "Submitter":
                Html.RenderPartial("_Submitter", Model.Tickets);
                break; 
            default:
                break; 
        }
    }
}